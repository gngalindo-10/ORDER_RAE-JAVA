<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Productos - ORDER RAE</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Tu CSS personalizado -->
    <link rel="stylesheet" href="/css/estilos.css">
</head>
<body class="bg-light">

    <!-- Encabezado -->
    <header id="barra_superior" class="bg-white border-bottom">
        <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center py-3">
            <a href="/"><img src="/images/Logo3-orden.png" class="logo_principal" alt="Logo Orden Rae" /></a>

            <div class="w-100 mt-2 mt-md-0" style="max-width: 400px;">
                <input type="text" class="busqueda form-control" id="Buscador" placeholder="¬øQu√© producto deseas buscar?" />
                <div id="sugerencias-busqueda" class="list-group position-absolute w-100" style="z-index: 1000; display: none;"></div>
            </div>

            <div class="botones mt-2 mt-md-0 d-flex align-items-center gap-3">
                <!-- NOTIFICACIONES MEJORADAS -->
                <div class="notifications-bell position-relative" id="notifications-bell">
                    <i class="fas fa-bell" style="font-size: 28px; color: #333;"></i>
                    <span class="bell-badge" id="bell-badge">0</span>
                    <div class="notifications-dropdown" id="notifications-dropdown">
                        <div class="notifications-header">
                            Notificaciones
                            <a href="#" id="clear-notifications">Marcar como le√≠das</a>
                        </div>
                        <div id="notifications-list">
                            <div class="p-3 text-center text-muted">No tienes notificaciones nuevas.</div>
                        </div>
                    </div>
                </div>

                <!-- CARRITO -->
                <a href="/carrito-compra" class="position-relative">
                    <img src="/images/CarritoCompra2.png" alt="Carrito" class="icono-img">
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="contador-carrito">0</span>
                </a>

                <!-- USUARIO -->
                <div class="menu-usuario position-relative">
                    <a href="#"><img src="/images/usuario2.png" alt="Usuario" class="icono-img"></a>
                    <div class="submenu mt-1">
                        <a href="/login">Iniciar sesi√≥n</a> |
                        <a href="/registro">Registrarse</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="py-2 bg-light">
            <div class="container">
                <nav class="navegacion d-flex flex-wrap justify-content-center">
                    <a href="/" class="text-dark px-3 py-1">HOME</a>
                    <a href="/producto" class="text-dark px-3 py-1 fw-bold" style="color: #7A4B32;">PRODUCTOS</a>
                    <a href="/promociones" class="text-dark px-3 py-1">PROMOCIONES</a>
                    <a href="/contacto" class="text-dark px-3 py-1">CONTACTO</a>
                    <a href="/cotiza" class="boton_rojo ms-3 px-4 py-1">COTICE AQU√ç</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="container py-5">
        <div class="py-5">
            <div class="py-4">
                <!-- Espacio -->
            </div>
        </div>
        <!-- Secci√≥n: Categor√≠as destacadas -->
        <section class="mb-5">
            <h1 class="titulo-seccion text-center mb-4">NUESTRAS CATEGOR√çAS</h1>
            <p class="text-center text-muted mb-5">Explora nuestros productos por tipo y encuentra lo que necesitas para tu hogar.</p>

            <!-- Filtros r√°pidos por categor√≠a -->
            <div class="d-flex flex-wrap justify-content-center gap-2 mb-5">
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="all">Todos</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="colechos">Colechos</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="cunas">Cunas</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="sofas">Sof√°s</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="sillas">Sillas</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="escritorios">Escritorios</button>
                <button class="btn btn-outline-secondary btn-sm rounded-pill px-3" data-filter="camas">Camas</button>
            </div>
        </section>

        <!-- Grid de categor√≠as -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4" id="categorias-grid">
            <!-- COLECHOS -->
            <div class="col" data-category="colechos">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/Colecho-1.jpg" class="card-img-top" alt="Colechos">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">COLECHOS</h2>
                        <p class="text-muted small mb-2">Perfectos para compartir con tu beb√©</p>
                        <p class="card-text flex-grow-1">Colecho de 1 metro de largo por 50 cm de ancho, dise√±o ergon√≥mico y seguro.</p>
                        <a href="/productos/colechos" class="btn btn-primary mt-2" data-nombre="Colechos">Ver colechos</a>
                    </div>
                </article>
            </div>

            <!-- CUNAS -->
            <div class="col" data-category="cunas">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/CamaCunas1.JPG" class="card-img-top" alt="Cama Cunas">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">CUNAS</h2>
                        <p class="text-muted small mb-2">Dise√±o cl√°sico y funcional</p>
                        <p class="card-text flex-grow-1">Apta para un colch√≥n del corral de 1m x 1.40m. Madera maciza y acolchado suave.</p>
                        <a href="/productos/cunas" class="btn btn-primary mt-2" data-nombre="Cunas">Ver cunas</a>
                    </div>
                </article>
            </div>

            <!-- SOF√ÅS -->
            <div class="col" data-category="sofas">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/Sof√°4.JPG" class="card-img-top" alt="Sof√°s">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">SOF√ÅS</h2>
                        <p class="text-muted small mb-2">Confort y estilo para tu sala</p>
                        <p class="card-text flex-grow-1">Sof√° de 2 puestos (1.40m largo x 80cm ancho), tapizado en tela premium lavable.</p>
                        <a href="/productos/sofas" class="btn btn-primary mt-2" data-nombre="Sof√°s">Ver sof√°s</a>
                    </div>
                </article>
            </div>

            <!-- SILLAS -->
            <div class="col" data-category="sillas">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/Poltronas1.JPG" class="card-img-top" alt="Poltronas">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">SILLAS</h2>
                        <p class="text-muted small mb-2">Poltronas y sillas modernas</p>
                        <p class="card-text flex-grow-1">La Poltrona Kaira destaca por su dise√±o compacto y relleno ergon√≥mico.</p>
                        <a href="/productos/sillas" class="btn btn-primary mt-2" data-nombre="Sillas">Ver sillas</a>
                    </div>
                </article>
            </div>

            <!-- ESCRITORIOS -->
            <div class="col" data-category="escritorios">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/Escritorio1.jpg" class="card-img-top" alt="Escritorios">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">ESCRITORIOS</h2>
                        <p class="text-muted small mb-2">Espacio ideal para trabajar o estudiar</p>
                        <p class="card-text flex-grow-1">Escritorio de 1.30m de ancho x 50cm de fondo. Estilo minimalista con cajones.</p>
                        <a href="/productos/escritorios" class="btn btn-primary mt-2" data-nombre="Escritorios">Ver escritorios</a>
                    </div>
                </article>
            </div>

            <!-- CAMAS -->
            <div class="col" data-category="camas">
                <article class="card-producto h-100">
                    <div class="img-container">
                        <img src="/images/CamaMontessori1.jpg" class="card-img-top" alt="Camas Montessori">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h2 class="card-title">CAMAS</h2>
                        <p class="text-muted small mb-2">Camas Montessori y m√°s</p>
                        <p class="card-text flex-grow-1">Apta para un colch√≥n de 1m x 1.90m. Dise√±o bajo y seguro para ni√±os.</p>
                        <a href="/productos/camas" class="btn btn-primary mt-2" data-nombre="Camas">Ver camas</a>
                    </div>
                </article>
            </div>
        </div>

        <!-- Secci√≥n: Productos destacados -->
        <section class="mt-6 pt-5">
            <h2 class="titulo-seccion text-center mb-4">DESTACADOS</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
                <div class="col">
                    <div class="card-promo h-100">
                        <div class="img-container">
                            <img src="/images/sofapremiun.jpeg" class="card-img-top" alt="Sof√° Premium">
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Sof√° Premium</h5>
                            <p class="text-muted small">A partir de $1.200.000</p>
                            <a href="#" class="btn-comprar" data-nombre="Sof√° Premium">M√°s info</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card-promo h-100">
                        <div class="img-container">
                            <img src="/images/cunaLujo.jpg" class="card-img-top" alt="Cuna Lujo">
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Cuna Lujo</h5>
                            <p class="text-muted small">A partir de $950.000</p>
                            <a href="#" class="btn-comprar" data-nombre="Cuna Lujo">M√°s info</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card-promo h-100">
                        <div class="img-container">
                            <img src="/images/escritorioEjecutivo.jpg" class="card-img-top" alt="Escritorio Ejecutivo">
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Escritorio Ejecutivo</h5>
                            <p class="text-muted small">A partir de $850.000</p>
                            <a href="#" class="btn-comprar" data-nombre="Escritorio Ejecutivo">M√°s info</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card-promo h-100">
                        <div class="img-container">
                            <img src="/images/ColechoDestacado.jpg" class="card-img-top" alt="Colecho Plus">
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Colecho Plus</h5>
                            <p class="text-muted small">A partir de $720.000</p>
                            <a href="#" class="btn-comprar" data-nombre="Colecho Plus">M√°s info</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer-bg pt-5 pb-4 mt-5">
        <div class="container">
            <div class="text-center mb-4">
                <img src="/images/order_rae.png" alt="ORDER R.A.E" style="height: 48px;">
            </div>
            <div class="mb-3">
                <a href="/quienes-somos" class="text-muted text-decoration-none mx-2">Qui√©nes somos</a> |
                <a href="/terminos-condiciones" class="text-muted text-decoration-none mx-2">T√©rminos y condiciones</a> |
                <a href="/preguntas-frecuentes" class="text-muted text-decoration-none mx-2">Preguntas frecuentes</a>
            </div>
            <div class="mb-4">
                <a href="#" class="text-muted text-decoration-none mx-2">Garant√≠a</a> |
                <a href="#" class="text-muted text-decoration-none mx-2">Mis pedidos</a> |
                <a href="#" class="text-muted text-decoration-none mx-2">Seguimiento de env√≠os</a> |
                <a href="#" class="text-muted text-decoration-none mx-2">PQRS</a>
            </div>
            <div class="mb-4">
                <h5 class="fw-bold">SEDE</h5>
                <p class="text-muted">Carrera 13 # 65 - 10 | Bogot√° - Colombia</p>
            </div>
            <div class="mb-4">
                <h5 class="fw-bold">HORARIOS</h5>
                <p class="text-muted">Lunes a S√°bado 9AM ‚Äì 6PM | Domingos y Festivos 10AM ‚Äì 2PM</p>
            </div>
            <div class="mb-4">
                <h5 class="fw-bold">CONTACTO</h5>
                <p class="text-muted">
                    üìû TEL√âFONO FIJO: 797 7090 |
                    üìû VENTAS WHATSAPP: (+57) 316 671 2526 |
                    üìû SERVICIO AL CLIENTE: (+57) 316 671 2526
                </p>
            </div>
            <div class="mb-4">
                <span class="text-muted me-3">S√çGUENOS EN:</span>
                <a href="#" class="mx-2">
                    <img src="/images/Facebook1.png" alt="Facebook" style="width: 24px; height: 24px;">
                </a>
                <a href="#" class="mx-2">
                    <img src="/images/Instagram1.png" alt="Instagram" style="width: 24px; height: 24px;">
                </a>
            </div>
            <div class="border-top border-secondary pt-3 mt-4 text-muted" style="font-size: 0.875rem;">
                &copy; 2025 ORDER RAE. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- SCRIPT DE NOTIFICACIONES + FILTROS -->
    <script>
        // === SISTEMA DE NOTIFICACIONES ===
        let notificaciones = JSON.parse(localStorage.getItem('notificaciones')) || [];
        const notificationsList = document.getElementById('notifications-list');
        const bellBadge = document.getElementById('bell-badge');
        const notificationsDropdown = document.getElementById('notifications-dropdown');
        const notificationsBell = document.getElementById('notifications-bell');

        function guardarNotificacion(mensaje, tipo = 'sistema') {
            const notif = {
                id: Date.now(),
                mensaje,
                tipo,
                leida: false,
                fecha: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
            };
            notificaciones.unshift(notif);
            localStorage.setItem('notificaciones', JSON.stringify(notificaciones));
            actualizarNotificaciones();
        }

        function actualizarNotificaciones() {
            const nuevas = notificaciones.filter(n => !n.leida);
            bellBadge.textContent = nuevas.length || '';
            bellBadge.style.display = nuevas.length ? 'block' : 'none';

            if (notificaciones.length === 0) {
                notificationsList.innerHTML = '<div class="p-3 text-center text-muted">No tienes notificaciones nuevas.</div>';
                return;
            }

            notificationsList.innerHTML = notificaciones.map(n => `
                <div class="notification-item ${n.leida ? '' : 'new'}">
                    <span class="notification-icon">${n.tipo === 'carrito' ? 'üõí' : 'üëÄ'}</span>
                    <div class="notification-content">
                        <strong>${n.mensaje}</strong>
                        <span class="notification-time">${n.fecha}</span>
                    </div>
                </div>
            `).join('');
        }

        if (notificationsBell) {
            notificationsBell.addEventListener('click', (e) => {
                e.stopPropagation();
                notificationsDropdown.classList.toggle('show');
                notificaciones.forEach(n => n.leida = true);
                actualizarNotificaciones();
                localStorage.setItem('notificaciones', JSON.stringify(notificaciones));
            });

            document.addEventListener('click', (e) => {
                if (!notificationsBell.contains(e.target)) {
                    notificationsDropdown.classList.remove('show');
                }
            });

            document.getElementById('clear-notifications')?.addEventListener('click', (e) => {
                e.preventDefault();
                notificaciones = [];
                localStorage.removeItem('notificaciones');
                actualizarNotificaciones();
            });
        }

        // === FILTROS DE CATEGOR√çA ===
        document.querySelectorAll('[data-filter]').forEach(button => {
            button.addEventListener('click', () => {
                const filter = button.dataset.filter;
                const items = document.querySelectorAll('#categorias-grid > .col');

                items.forEach(item => {
                    item.style.display = (filter === 'all' || item.dataset.category === filter) ? 'block' : 'none';
                });

                document.querySelectorAll('[data-filter]').forEach(b => {
                    b.classList.remove('btn-primary', 'text-white');
                });
                button.classList.add('btn-primary', 'text-white');
            });
        });

        // === INTEGRAR NOTIFICACIONES EN BOTONES ===
        document.querySelectorAll('.btn.btn-primary, .btn-comprar').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const nombre = btn.dataset.nombre || btn.textContent.trim();
                const mensaje = nombre.includes('Ver') 
                    ? `Navegando a: ${nombre.replace('Ver ', '')}`
                    : `Explorando: ${nombre}`;
                guardarNotificacion(mensaje);
                // Opcional: redirigir despu√©s de 800ms
                setTimeout(() => {
                    window.location.href = btn.href;
                }, 400);
            });
        });

        // Inicializar
        actualizarNotificaciones();
    </script>
</body>
</html>