<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Estilos personalizados -->
    <link rel="stylesheet" th:href="@{/css/estilos.css}">
</head>
<body class="bg-light">

    <div class="container mt-5">
        
        <div class="text-center mb-3">
            <img 
                th:src="@{/images/logo.png}" 
                src="/images/logo.png" 
                alt="Logo de ORDER RAE" 
                style="width:120px;"
            >
        </div>


        <h2 class="text-center mb-4">BIENVENIDO AL SISTEMA</h2>
    <p class="text-center">Bienvenido, <span th:text="${usuario.nombre} + ' ' + ${usuario.apellidos}" class="fw-bold text-cafe"></span></p>

    <nav class="d-flex flex-column align-items-center mt-4">
        <div th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
            <a th:href="@{/usuarios}" class="btn btn-cafe mb-2">Ver usuarios</a>
        </div>

        <div th:if="${#authorization.expression('hasRole(''USER'')')}">
            <a th:href="@{/perfil}" class="btn btn-cafe mb-2">Editar mi perfil</a>
        </div>

        <div id="mensajeExito" th:if="${param.actualizado}" class="alert alert-success text-center w-100">
            ¡Tu perfil ha sido actualizado correctamente!
        </div>

        <form th:action="@{/logout}" method="post" class="mt-3">
            <button type="submit" class="btn btn-cafe-outline">Cerrar sesión</button>
        </form>
    </nav>
    </div>

    <script>
        setTimeout(function() {
        const mensaje = document.getElementById("mensajeExito");
        if (mensaje) {
            mensaje.style.display = "none";
        }
    }, 4000); // 4 segundos
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>